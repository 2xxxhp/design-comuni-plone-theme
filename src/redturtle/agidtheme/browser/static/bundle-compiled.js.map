{
  "version": 3,
  "sources": [
    "static/ellipsed.js",
    "static/integration.js"
  ],
  "names": [],
  "mappings": "AAAA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,ACnGA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA",
  "file": "bundle-compiled.js",
  "sourcesContent": [
    "(function (global, factory) {\n  if (typeof define === \"function\" && define.amd) {\n    define('ellipsed',['exports'], factory);\n  } else if (typeof exports !== \"undefined\") {\n    factory(exports);\n  } else {\n    var mod = {\n      exports: {}\n    };\n    factory(mod.exports);\n    global.ellipsed = mod.exports;\n  }\n})(this, function (exports) {\n  'use strict';\n\n  Object.defineProperty(exports, \"__esModule\", {\n    value: true\n  });\n\n  var _extends = Object.assign || function (target) {\n    for (var i = 1; i < arguments.length; i++) {\n      var source = arguments[i];\n\n      for (var key in source) {\n        if (Object.prototype.hasOwnProperty.call(source, key)) {\n          target[key] = source[key];\n        }\n      }\n    }\n\n    return target;\n  };\n\n  /*\n   *   Copyright (C) 2017  Nicola Zambello\n   *\n   *    The JavaScript code in this page is open source software licensed under MIT license\n   *    References about this code and its license, see:\n   *\n   *    https://github.com/nzambello/ellipsed\n   *\n   */\n\n  function tokensReducer(acc, token) {\n    var el = acc.el,\n        elStyle = acc.elStyle,\n        elHeight = acc.elHeight,\n        rowsLimit = acc.rowsLimit,\n        rowsWrapped = acc.rowsWrapped;\n\n    if (rowsWrapped === rowsLimit + 1) {\n      return _extends({}, acc);\n    }\n    var textBeforeWrap = el.textContent;\n    var newRowsWrapped = rowsWrapped;\n    var newHeight = elHeight;\n    el.textContent = el.textContent.length ? el.textContent + ' ' + token + '...' : token + '...';\n\n    if (parseFloat(elStyle.height) > parseFloat(elHeight)) {\n      newRowsWrapped++;\n      newHeight = elStyle.height;\n\n      if (newRowsWrapped === rowsLimit + 1) {\n        el.innerHTML = textBeforeWrap[textBeforeWrap.length - 1] === '.' ? textBeforeWrap + '..' : textBeforeWrap + '...';\n\n        return _extends({}, acc, { elHeight: newHeight, rowsWrapped: newRowsWrapped });\n      }\n    }\n\n    el.textContent = textBeforeWrap.length ? textBeforeWrap + ' ' + token : '' + token;\n\n    return _extends({}, acc, { elHeight: newHeight, rowsWrapped: newRowsWrapped });\n  }\n\n  function ellipsis() {\n    var selector = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : '';\n    var rows = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : 1;\n\n    var elements = document.querySelectorAll(selector);\n\n    for (var i = 0; i < elements.length; ++i) {\n      var el = elements[i];\n      var splittedText = el.textContent.split(' ');\n\n      el.textContent = '';\n      var elStyle = window.getComputedStyle(el);\n\n      splittedText.reduce(tokensReducer, {\n        el: el,\n        elStyle: elStyle,\n        elHeight: 0,\n        rowsLimit: rows,\n        rowsWrapped: 0\n      });\n    }\n  }\n\n  exports.ellipsis = ellipsis;\n});\n",
    "require([\n  'jquery',\n  'ellipsed'\n], function ($, ellipsed) {\n  'use strict';\n\n  var ellipsis = ellipsed.ellipsis;\n\n  $(document).ready(function () {\n    /*\n     *  return-to-top arrow\n     */\n    $(window).scroll(function () {\n      if ($(this).scrollTop() >= 50) {\n        $('#return-to-top').fadeIn(200);\n      } else {\n        $('#return-to-top').fadeOut(200);\n      }\n    });\n\n    $('#return-to-top').click(function () {\n      $('body,html').animate({\n        scrollTop: 0,\n      }, 500);\n    });\n\n\n    /*\n     *  share button position\n     */\n    var $share = $('.share');\n    if ($('.news-column').length) {\n      $('.news-column').prepend($share);\n      $share.addClass('share-visible');\n    }\n    else if ($('#portal-column-two').length) {\n      $('#portal-column-two').prepend($share);\n      $share.addClass('share-visible');\n    }\n\n\n    /*\n     * share button behavior\n     */\n    $('.share .share-toggle').on('click', function(e) {\n      e.preventDefault();\n      $share.toggleClass('open');\n    });\n\n\n    /*\n     * mobile: search button action\n     */\n    $('#search-toggle').on('click', function(e) {\n      $('#portal-searchbox').toggleClass('open');\n      $('#search-toggle').toggleClass('open');\n      $('body').toggleClass('searchOpened');\n\n      if ($('#portal-searchbox').hasClass('open')) {\n        $('#searchGadget').focus();\n      }\n    });\n\n\n    /*\n     * gestione click per chiudere menu, ricerca e condividi\n     */\n    $(document).on('click', function(e) {\n      if ((!$(e.target).closest('#portal-searchbox').length && !$(e.target).closest('button#search-toggle').length) && $(window).width() <= 991) {\n        $('#portal-searchbox').removeClass('open');\n        $('#search-toggle').removeClass('open');\n        $('body').removeClass('searchOpened');\n      }\n\n      if (!$(e.target).closest('.share').length) {\n        $share.removeClass('open');\n      }\n    });\n\n    /* REGIONE */\n    /*\n     * globalnav menu open/close button for mobile\n     */\n    $('button.plone-navbar-toggle').on('click', function(e) {\n      $('#portal-mainnavigation').addClass('open');\n      $('body').addClass('menuOpened');\n    });\n\n    $('#globalnav-close').on('click', function(e) {\n      $('#portal-mainnavigation').removeClass('open');\n      $('body').removeClass('menuOpened');\n    });\n\n    $(document).on('click', function(e) {\n      if ((!$(e.target).closest('#portal-mainnavigation').length && !$(e.target).closest('button#globalnav-toggle').length) && $(window).width() <= 991) {\n        // $('#portal-mainnavigation').removeClass('open');\n        // $('body').removeClass('menuOpened');\n      }\n    });\n\n    /*\n     * collapse news collection\n     */\n    $('#content-core').on('click', '.collectionTile.collapsible .tile-collapse-button', function(e) {\n      if (window.innerWidth <= 991) {\n        var collapse = $(e.target).closest('.collapsible');\n        collapse.toggleClass('open');\n      }\n    });\n\n    function handleTabIndex() {\n      if (window.innerWidth <= 991 && $('button.tile-collapse-button').closest('.collectionTile').hasClass('collapsible') && $('button.tile-collapse-button').attr('tabIndex') !== undefined) {\n        $('button.tile-collapse-button').removeAttr('tabIndex');\n      }\n      else {\n        $('button.tile-collapse-button').attr('tabIndex', -1);\n      }\n    }\n\n    /*\n     * On tiles loaded:\n     * - gestito tabIndex news collection collapse\n     * - multi lined ellipsis for news collection items\n     */\n    $('.pat-tiles-management').on('rtTilesLoaded', function(e) {\n      handleTabIndex();\n      ellipsis('.tile-collection .collectionItemDescription', 4);\n      ellipsis('.news-highlight .news-description', 4);\n      ellipsis('.news-big-photo .news-description', 4);\n    });\n\n    $(window).on('resize orientationchange', function(e) {\n      handleTabIndex();\n    });\n\n  });\n});\n\ndefine(\"../browser/static/integration.js\", function(){});\n\n"
  ]
}