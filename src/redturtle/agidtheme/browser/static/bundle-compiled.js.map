{
  "version": 3,
  "sources": [
    "static/ellipsed.js",
    "static/integration.js"
  ],
  "names": [],
  "mappings": "AAAA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,ACtEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA",
  "file": "bundle-compiled.js",
  "sourcesContent": [
    "function ellipsed(selector, rows) {\n  /*   Copyright (C) 2017  Nicola Zambello\n   *\n   *\t\thttps://github.com/nzambello/ellipsed\n   *\n   *    The JavaScript code in this page is free software: you can\n   *    redistribute it and/or modify it under the terms of the GNU\n   *    General Public License (GNU GPL) as published by the Free Software\n   *    Foundation, either version 3 of the License, or (at your option)\n   *    any later version.  The code is distributed WITHOUT ANY WARRANTY;\n   *    without even the implied warranty of MERCHANTABILITY or FITNESS\n   *    FOR A PARTICULAR PURPOSE.  See the GNU GPL for more details.\n   *\n   *    As additional permission under GNU GPL version 3 section 7, you\n   *    may distribute non-source (e.g., minimized or compacted) forms of\n   *    that code without the copy of the GNU GPL normally required by\n   *    section 4, provided you include this license notice and a URL\n   *    through which recipients can access the Corresponding Source.\n   */\n\n  var elements = document.querySelectorAll(selector);\n\n  for (var i = 0; i < elements.length; i++) {\n    var el = elements[i];\n\n    if (rows) {\n      var splittedText = el.innerText.split(' ');\n      var rowsWrapped = 0;\n      var textBeforeWrap = '';\n\n      el.innerText = '';\n      var elHeight = window.getComputedStyle(el).height;\n\n      for (var j = 0; j < splittedText.length; j++) {\n        var token = splittedText[j];\n\n        if (el.innerText.length) {\n          el.innerText = el.innerText.concat(' ').concat(token).concat('...');\n        }\n        else {\n          el.innerText = el.innerText.concat(token).concat('...');\n        }\n\n        if (parseFloat(window.getComputedStyle(el).height) > parseFloat(elHeight)) {\n          elHeight = window.getComputedStyle(el).height;\n          rowsWrapped++;\n\n          if (rowsWrapped === rows + 1) {\n            el.innerHTML = textBeforeWrap[textBeforeWrap.length - 1] === '.'\n                           ? textBeforeWrap.concat('..')\n                           : textBeforeWrap.concat('...');\n\n            break;\n          }\n        }\n\n        textBeforeWrap = textBeforeWrap.length\n                         ? textBeforeWrap.concat(' ').concat(token)\n                         : textBeforeWrap.concat(token);\n        el.innerHTML = textBeforeWrap;\n      }\n    }\n    else {\n      el.innerText = '';\n    }\n  }\n};\n\ndefine(\"ellipsed\", function(){});\n\n",
    "require([\n  'jquery',\n  'ellipsed'\n], function ($) {\n  'use strict';\n  $(document).ready(function () {\n    /*\n     *  return-to-top arrow\n     */\n    $(window).scroll(function () {\n      if ($(this).scrollTop() >= 50) {\n        $('#return-to-top').fadeIn(200);\n      } else {\n        $('#return-to-top').fadeOut(200);\n      }\n    });\n\n    $('#return-to-top').click(function () {\n      $('body,html').animate({\n        scrollTop: 0,\n      }, 500);\n    });\n\n\n    /*\n     *  share button position\n     */\n    var $share = $('.share');\n    if ($('.news-column').length) {\n      $('.news-column').prepend($share);\n      $share.addClass('share-visible');\n    }\n    else if ($('#portal-column-two').length) {\n      $('#portal-column-two').prepend($share);\n      $share.addClass('share-visible');\n    }\n\n\n    /*\n     * share button behavior\n     */\n    $('.share .share-toggle').on('click', function(e) {\n      e.preventDefault();\n      $share.toggleClass('open');\n    });\n\n\n    function toggleMenu() {\n      if ($('#portal-mainnavigation').hasClass('open')) {\n        $('#portal-mainnavigation').addClass('closed');\n      }\n      else {\n        $('#portal-mainnavigation').removeClass('closed');\n      }\n\n      $('#portal-mainnavigation').toggleClass('open');\n    }\n\n    /*\n     * globalnav menu open/close button for mobile\n     */\n    $('#globalnav-toggle').on('click', function(e) {\n      toggleMenu();\n      $('#portal-top').addClass('menuOpened');\n      $('#column-wrapper').addClass('menuOpened');\n      $('#portal-footer-wrapper').addClass('menuOpened');\n    });\n\n    $('#globalnav-close').on('click', function(e) {\n      toggleMenu();\n      $('#portal-top').removeClass('menuOpened');\n      $('#column-wrapper').removeClass('menuOpened');\n      $('#portal-footer-wrapper').removeClass('menuOpened');\n    });\n\n\n    /*\n     * mobile: search button action\n     */\n    $('#search-toggle').on('click', function(e) {\n      $('#portal-searchbox').toggleClass('open');\n      $('#column-wrapper').toggleClass('searchOpened');\n      $('#portal-footer-wrapper').toggleClass('searchOpened');\n\n      if ($('#portal-searchbox').hasClass('open')) {\n        $('#searchGadget').focus();\n      }\n    });\n\n\n    /*\n     * gestione click per chiudere menu, ricerca e condividi\n     */\n    $(document).on('click', function(e) {\n      if ((!$(e.target).closest('#portal-searchbox').length && !$(e.target).closest('button#search-toggle').length) && $(window).width() <= 991) {\n        $('#portal-searchbox').removeClass('open');\n        $('#column-wrapper').removeClass('searchOpened');\n        $('#portal-footer-wrapper').removeClass('searchOpened');\n      }\n\n      if ((!$(e.target).closest('#portal-mainnavigation').length && !$(e.target).closest('button#globalnav-toggle').length) && $(window).width() <= 991) {\n        $('#portal-mainnavigation').removeClass('open').addClass('closed');\n        $('#portal-top').removeClass('menuOpened');\n        $('#column-wrapper').removeClass('menuOpened');\n        $('#portal-footer-wrapper').removeClass('menuOpened');\n      }\n\n      if (!$(e.target).closest('.share').length) {\n        $share.removeClass('open');\n      }\n    });\n\n    /*\n     * collapse news collection\n     */\n    function toggleNews(collapse, defaultClosed) {\n      if (defaultClosed) {\n        if (collapse.hasClass('open')) {\n          collapse.addClass('closed');\n        }\n        else {\n          collapse.removeClass('closed');\n        }\n        collapse.toggleClass('open');\n      }\n      else {\n        if (collapse.hasClass('closed')) {\n          collapse.addClass('open');\n        }\n        else {\n          collapse.removeClass('open');\n        }\n        collapse.toggleClass('closed');\n      }\n    }\n\n    $('#content-core').on('click', '.collectionTile.collapsible .news-collection .tile-collapse-button', function(e) {\n      if (window.innerWidth <= 991) {\n        var collapse = $(e.target).closest('.collapsible');\n        var defaultClosed = collapse.hasClass('default-closed');\n        toggleNews(collapse, defaultClosed);\n      }\n    });\n\n    function handleTabIndex() {\n      if (window.innerWidth <= 991) {\n        if ($('button.tile-collapse-button').attr('tabIndex') !== undefined) {\n          $('button.tile-collapse-button').removeAttr('tabIndex');\n        }\n      }\n      else {\n        $('button.tile-collapse-button').attr('tabIndex', -1);\n      }\n    }\n\n    /*\n     * On tiles loaded:\n     * - gestito tabIndex news collection collapse\n     * - multi lined ellipsis for news collection items\n     */\n    $('.pat-tiles-management').on('rtTilesLoaded', function(e) {\n      handleTabIndex();\n      ellipsed('.news-collection .newsDescription', 4);\n      ellipsed('.news-highlight .news-description', 6);\n    });\n\n    $(window).on('resize orientationchange', function(e) {\n      handleTabIndex();\n    });\n\n  });\n});\n\ndefine(\"../browser/static/integration.js\", function(){});\n\n"
  ]
}